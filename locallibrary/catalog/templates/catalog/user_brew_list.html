{% extends "base_generic.html" %} {% block content %}
<div class="py-3">
  <h1 class="text-xl font-semibold font-lexend mt-6">My Brew Journal</h1>
  <p class="text-xs text-zinc-400">
    List of brews you shared with world. You can
    <span class="px-1 underline text-red-600">Edit</span> and
    <span class="px-1 underline font-semibold text-black">Delete</span> them.
  </p>
</div>

<div class="journal-header">
  <a href="{% url 'add-brew' %}" class="btn btn-primary">Add New Brew</a>
</div>

{% if brews %}
<div class="brew-grid">
  {% for brew in brews %}
  <div class="brew-card">
    <h3><a href="{% url 'brew-detail' brew.id %}">{{ brew.brew_name }}</a></h3>
    <p><strong>Type:</strong> {{ brew.brew_type }}</p>
    <p><strong>Method:</strong> {{ brew.brew_method }}</p>
    <p><strong>Rating:</strong> {{ brew.rating }}/10</p>
    <p class="post-date">{{ brew.post_date|date:"g:i A / d M / Y" }}</p>
    <div class="brew-actions">
      <a href="{% url 'edit-brew' brew.id %}" class="btn btn-primary btn-sm"
        >Edit</a
      >
      <a href="{% url 'delete-brew' brew.id %}" class="btn btn-danger btn-sm"
        >Delete</a
      >
    </div>
  </div>
  {% endfor %}
</div>

{% if is_paginated %}
<div class="pagination">
  <span class="step-links">
    {% if page_obj.has_previous %}
    <a href="?page=1">&laquo; first</a>
    <a href="?page={{ page_obj.previous_page_number }}">previous</a>
    {% endif %}

    <span class="current">
      Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
    </span>

    {% if page_obj.has_next %}
    <a href="?page={{ page_obj.next_page_number }}">next</a>
    <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
    {% endif %}
  </span>
</div>
{% endif %} {% else %}
<div class="empty-state">
  <p>You haven't logged any brews yet.</p>
  <p>Start your brewing journey by adding your first brew!</p>
  <a href="{% url 'add-brew' %}" class="btn btn-primary">Add Your First Brew</a>
</div>
{% endif %} {% endblock %}
